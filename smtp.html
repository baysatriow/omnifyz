<!DOCTYPE html>
<html>
<head>
    <title>Email Form</title>
</head>
<body>
    <form id="email-form">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name"><br>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email"><br>

        <label for="phone">Phone:</label>
        <input type="tel" id="phone" name="phone"><br>

        <label for="subject">Subject:</label>
        <input type="text" id="subject" name="subject"><br>

        <label for="message">Message:</label>
        <textarea id="message" name="message"></textarea><br>

        <input type="submit" value="Send">
    </form>

    <script src="https://unpkg.com/nodemailer@6.6.3/lib/nodemailer.js"></script>
    <script>
        document.getElementById("email-form").addEventListener("submit", function(event) {
            event.preventDefault();

            let name = document.getElementById("name").value;
            let email = document.getElementById("email").value;
            let phone = document.getElementById("phone").value;
            let subject = document.getElementById("subject").value;
            let message = document.getElementById("message").value;

            let mailOptions = {
                from: email,
                to: 'bayusatriowid@gmail.com',
                subject: subject,
                text: 'Name: ' + name + '\nEmail: ' + email + '\nPhone: ' + phone + '\n\nMessage:\n' + message
            };

            let transporter = nodemailer.createTransport({
                host: 'smtp.gmail.com',
                port: 587,
                secure: false,
                requireTLS: true,
                auth: {
                    user: 'bayusatriowid@gmail.com',
                    pass: 'ezxjbwszyvplidon'
                }
            });

            transporter.sendMail(mailOptions, function(error, info) {
                if (error) {
                    console.log(error);
                    alert('Error sending email');
                } else {
                    console.log('Email sent: ' + info.response);
                    alert('Email sent successfully');
                }
            });
        });
    </script>
</body>
</html>
